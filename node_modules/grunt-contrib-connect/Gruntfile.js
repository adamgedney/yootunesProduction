/*
 * grunt-contrib-connect
 * http://gruntjs.com/
 *
 * Copyright (c) 2013 "Cowboy" Ben Alman, contributors
 * Licensed under the MIT license.
 */

var path=require("path"),certs=path.join(__dirname,"tasks","certs");module.exports=function(e){e.initConfig({jshint:{all:["Gruntfile.js","tasks/*.js","<%= nodeunit.tests %>"],options:{jshintrc:".jshintrc"}},nodeunit:{tests:["test/*_test.js"]},connect:{custom_base:{options:{base:"test"}},custom_port:{options:{port:9e3}},custom_https:{options:{port:8001,protocol:"https"}},custom_https_certs:{options:{port:8002,protocol:"https",key:e.file.read(path.join(certs,"server.key")).toString(),cert:e.file.read(path.join(certs,"server.crt")).toString(),ca:e.file.read(path.join(certs,"ca.crt")).toString(),passphrase:"grunt"}},custom_middleware:{options:{port:9001,base:".",middleware:function(e,t){return[e.static(t.base),function(e,n,r){n.end("Hello from port "+t.port)}]}}},multiple_base:{options:{base:["test","docs"],port:9002}},multiple_base_directory:{options:{base:["test","docs"],directory:"test/fixtures/",port:9003}}}}),e.loadTasks("tasks"),e.loadNpmTasks("grunt-contrib-jshint"),e.loadNpmTasks("grunt-contrib-nodeunit"),e.loadNpmTasks("grunt-contrib-internal"),e.registerTask("test",["connect","nodeunit"]),e.registerTask("default",["jshint","test","build-contrib"])};