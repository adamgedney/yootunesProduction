(function(){var e,t;t=require("./utils"),e=function(){function e(e){this.prefixes=e}return e.prototype.add=function(e){var n,r,i,s,o=this;e.eachKeyframes(function(e){if(e.prefix)return;return o.prefixes.each("@keyframes",function(t){return e.cloneWithPrefix(t)})}),s=this.prefixes.add.selectors;for(r=0,i=s.length;r<i;r++)n=s[r],e.eachRule(function(e){if(!e.selectors)return;if(n.check(e.selectors))return e.prefixSelector(n)});return e.eachDeclaration(function(e,n){return o.prefixes.isCustom(n)&&(n=null),o.prefixes.each(e.prop,function(r){if(n&&n!==t.removeNote(r))return;if(e.valueContain(o.prefixes.other(r)))return;return e.prefixProp(r)})}),e.eachDeclaration(function(e,n){var r,i,s,u,a,f,l,c;o.prefixes.isCustom(n)&&(n=null),l=o.prefixes.values("add",e.unprefixed);for(s=0,a=l.length;s<a;s++){i=l[s];if(!i.check(e.value))continue;c=i.prefixes;for(u=0,f=c.length;u<f;u++){r=c[u];if(n&&n!==t.removeNote(r))continue;e.prefixValue(r,i)}}return e.saveValues()})},e.prototype.remove=function(e){var t,n,r,i,s=this;e.eachKeyframes(function(e){if(s.prefixes.toRemove(e.prefix+"@keyframes"))return e.remove()}),i=this.prefixes.remove.selectors;for(n=0,r=i.length;n<r;n++)t=i[n],e.eachRule(function(e){if(!e.selectors)return;if(e.selectors.indexOf(t)!==-1)return e.remove()});return e.eachDeclaration(function(e,t){var n,r,i,o;if(s.prefixes.toRemove(e.prop)&&e.rule.byProp(e.unprefixed)){e.remove();return}o=s.prefixes.values("remove",e.unprefixed);for(r=0,i=o.length;r<i;r++){n=o[r];if(n.check(e.value)){e.remove();return}}})},e}(),module.exports=e}).call(this);