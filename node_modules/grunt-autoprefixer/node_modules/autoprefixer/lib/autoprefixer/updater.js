(function(){var e,t,n;e=require("coffee-script"),n=require("https"),t=require("fs"),module.exports={browsers:{firefox:"ff",chrome:"chrome",safari:"safari",ios_saf:"ios",opera:"opera",ie:"ie",bb:"bb",android:"android"},run:function(){var e,n,r,i,s,o;n=__dirname+"/../../updaters/",s=t.readdirSync(n).sort(),o=[];for(r=0,i=s.length;r<i;r++){e=s[r];if(!e.match(/\.(coffee|js)$/))continue;o.push(require(n+e).apply(this))}return o},requests:0,doneCallbacks:[],requestCallbacks:[],done:function(e){return this.doneCallbacks||(this.doneCallbacks=[]),this.doneCallbacks.push(e)},error:function(e){return process.stderr.write("\n"+e+"\n"),process.exit(1)},request:function(e){return this.requestCallbacks||(this.requestCallbacks=[]),this.requestCallbacks.push(e)},github:function(e,t){var r=this;return this.requests+=1,n.get("https://raw.github.com/"+e,function(n){var i;return i="",n.on("data",function(e){return i+=e}),n.on("end",function(){var n,s,o,u,a,f,l,c,h,p;try{t(JSON.parse(i))}catch(d){n=d,o=i.match(/<title>([^<]+)<\/title>/),o?r.error(""+o[1]+" on "+e):r.error("Parsing error in "+e+":\n"+n.message)}r.requests-=1,c=r.requestCallbacks;for(u=0,f=c.length;u<f;u++)s=c[u],s();if(r.requests===0){h=r.doneCallbacks.reverse(),p=[];for(a=0,l=h.length;a<l;a++)s=h[a],p.push(s());return p}})})},sort:function(e){return e.sort(function(e,t){return e=e.split(" "),t=t.split(" "),e[0]>t[0]?1:e[0]<t[0]?-1:parseFloat(e[1])-parseFloat(t[1])})},parse:function(e){var t,n,r,i,s,o,u,a,f,l;r=[],f=e.stats;for(t in f){o=f[t];for(n in o){i=o[n],l=n.split("-");for(u=0,a=l.length;u<a;u++)s=l[u],this.browsers[t]&&i.match(/\sx($|\s)/)&&(s=s.replace(/\.0$/,""),r.push(this.browsers[t]+" "+s))}}return this.sort(r)},feature:function(e,t){var n,r=this;return n="Fyrd/caniuse/master/features-json/"+e+".json",this.github(n,function(e){return t(r.parse(e))})},fork:function(e,t,n){var r,i,s,o,u=this;return o=e.split("/"),s=o[0],r=o[1],r||(r="master"),i=""+s+"/caniuse/"+r+"/features-json/"+t+".json",this.github(i,function(e){return n(u.parse(e))})},all:function(e){var t,n,r,i,s,o,u,a;t=require("../../data/browsers"),r=[];for(i in t){n=t[i],a=n.versions;for(o=0,u=a.length;o<u;o++)s=a[o],r.push(i+" "+s)}return e(this.sort(r))},map:function(e,t){var n,r,i,s,o,u,a;a=[];for(s=0,o=e.length;s<o;s++)n=e[s],u=n.split(" "),r=u[0],i=u[1],i=parseFloat(i),a.push(t(n,r,i));return a},stringify:function(e,t){var n,r,i,s,o=this;t==null&&(t="");if(e instanceof Array)return r=t+"  ","[\n"+r+e.map(function(e){return o.stringify(e,r)}).join("\n"+r)+("\n"+t+"]");if(typeof e=="object"){r=t+"  ",i=[];for(n in e)s=e[n],n.match(/'|-|@|:/)&&(n='"'+n+'"'),s=this.stringify(s,r),s[0]!=="\n"&&(s=" "+s),i.push(n+":"+s);return"\n"+r+i.join("\n"+r)+"\n"}return JSON.stringify(e)},changed:[],save:function(n,r){var i,s,o,u,a,f,l;u={},l=Object.keys(r).sort();for(a=0,f=l.length;a<f;a++)o=l[a],u[o]=r[o];s=__dirname+("/../../data/"+n),i="# Don't edit this files, because it's autogenerated.\n# See updaters/ dir for generator. Run `bin/autoprefixer --update` to update.\n\n",i+="module.exports ="+this.stringify(u)+";\n",t.existsSync(s+".js")?(s+=".js",i=e.compile(i)):s+=".coffee";if(t.readFileSync(s).toString()!==i)return this.changed.push(n),t.writeFileSync(s,i)}}}).call(this);