(function(){var e,t,n;n=require("./utils"),e=require("./declaration"),e.register(require("./hacks/filter")),e.register(require("./hacks/border-radius")),e.register(require("./hacks/flex")),e.register(require("./hacks/order")),e.register(require("./hacks/flex-grow")),e.register(require("./hacks/flex-wrap")),e.register(require("./hacks/flex-flow")),e.register(require("./hacks/transition")),e.register(require("./hacks/align-self")),e.register(require("./hacks/flex-basis")),e.register(require("./hacks/flex-shrink")),e.register(require("./hacks/align-items")),e.register(require("./hacks/border-image")),e.register(require("./hacks/display-flex")),e.register(require("./hacks/align-content")),e.register(require("./hacks/flex-direction")),e.register(require("./hacks/justify-content")),t=function(){function t(e,t,n,r){var i;this.rules=e,this.number=t,this.node=n,this.prefix=r,this.type=this.node.type,this.declarations=this.node.declarations,this.type==="rule"&&(this.selectors=this.node.selectors.join(", "),this.prefix||(i=this.selectors.match(/(^|\s|:)(-(\w+)-)/),i&&(this.prefix=i[2])))}return t.prototype.each=function(t){var n,r;this.number=0;while(this.number<this.declarations.length)r=this.declarations[this.number],r.property&&(n=e.load(this,this.number,r),t(n,n.prefix||this.prefix)),this.number+=1;return!1},t.prototype.prefixSelector=function(e){var t,r,i,s,o,u,a;u=e.prefixes,a=[];for(s=0,o=u.length;s<o;s++)r=u[s],i=e.replace(this.selectors,r),this.rules.contain(i)?a.push(void 0):(t=n.clone(this.node,{selectors:i.split(", ")}),a.push(this.rules.add(this.number,t)));return a},t.prototype.contain=function(e,t){return t!=null?this.declarations.some(function(n){return n.property===e&&n.value===t}):this.declarations.some(function(t){return t.property===e})},t.prototype.byProp=function(t){var n,r,i,s,o,u;u=this.declarations;for(r=s=0,o=u.length;s<o;r=++s){i=u[r];if(i.property){n=e.load(this,r,i);if(n.prop===t)return n}}return null},t.prototype.remove=function(){return this.rules.remove(this.number)},t.prototype.add=function(e,t){return this.declarations.splice(e,0,t),this.number+=1},t.prototype.removeDecl=function(e){return this.declarations.splice(e,1),this.number-=1},t}(),module.exports=t}).call(this);