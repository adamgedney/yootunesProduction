/*
 * matchdep
 * https://github.com/tkellen/node-matchdep
 *
 * Copyright (c) 2012 Tyler Kellen
 * Licensed under the MIT license.
 */

function loadConfig(e,t){var n=path.dirname(stackTrace.get(loadConfig)[1].getFileName());e==null?e=findup("package.json",{cwd:n}):typeof e=="string"&&!/[\\\/]/.test(e)&&(e=path.join(n,e)),typeof e=="string"&&(e=require(resolve(e,{basedir:n})));if(typeof e!="object")throw new Error("Invalid configuration specified.");var r={};return t.forEach(function(t){r[t]=e[t]?Object.keys(e[t]):[]}),r}var globule=require("globule"),findup=require("findup-sync"),resolve=require("resolve").sync,stackTrace=require("stack-trace"),path=require("path"),matchdep=module.exports={},methods={filter:["dependencies"],filterDev:["devDependencies"],filterPeer:["peerDependencies"],filterAll:["dependencies","devDependencies","peerDependencies"]};Object.keys(methods).forEach(function(e){var t=methods[e];matchdep[e]=function(e,n){n=loadConfig(n,t);var r=t.reduce(function(e,t){return e.concat(n[t])},[]);return globule.match(e,r)}});